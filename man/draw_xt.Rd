% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/draw_xt.R
\name{draw_xt}
\alias{draw_xt}
\title{Plot timeseries data}
\usage{
draw_xt(
  x,
  y = NULL,
  x2 = NULL,
  y2 = NULL,
  which_xy = NULL,
  which_xy2 = NULL,
  shade_bin = NULL,
  shade_interval = NULL,
  shade_col = NULL,
  shade_x = NULL,
  shade_name = "",
  shade_showlegend = FALSE,
  ynames = NULL,
  y2names = NULL,
  xlab = NULL,
  ylab = NULL,
  y2lab = NULL,
  xunits = NULL,
  yunits = NULL,
  y2units = NULL,
  yunits_col = NULL,
  y2units_col = NULL,
  zt = NULL,
  show_zt = TRUE,
  show_zt_every = NULL,
  zt_nticks = 18L,
  main = NULL,
  main_y = 1,
  main_yanchor = "bottom",
  x_nticks = 0,
  y_nticks = 0,
  show_rangeslider = NULL,
  slider_start = NULL,
  slider_end = NULL,
  theme = choose_theme(),
  palette = rtpalette(rtemis_palette),
  font_size = 16,
  yfill = "none",
  y2fill = "none",
  fill_alpha = 0.2,
  yline_width = 2,
  y2line_width = 2,
  x_showspikes = TRUE,
  spike_dash = "solid",
  spike_col = NULL,
  x_spike_thickness = -2,
  tickfont_size = 16,
  x_tickmode = "auto",
  x_tickvals = NULL,
  x_ticktext = NULL,
  x_tickangle = NULL,
  legend_x = 0,
  legend_y = 1.1,
  legend_xanchor = "left",
  legend_yanchor = "top",
  legend_orientation = "h",
  margin = list(l = 75, r = 75, b = 75, t = 75),
  x_standoff = 20L,
  y_standoff = 20L,
  y2_standoff = 20L,
  hovermode = "x",
  displayModeBar = TRUE,
  modeBar_file_format = "svg",
  scrollZoom = TRUE,
  filename = NULL,
  file_width = 960,
  file_height = 500,
  file_scale = 1
)
}
\arguments{
\item{x}{Datetime vector or list of vectors OR object of class \code{xt}. If \code{xt}, \code{x2}, \code{y}, \code{y2},
\code{xunits}, \code{yunits}, and \code{y2units} will be extracted from the object and the corresponding
arguments will be ignored.}

\item{y}{Numeric vector or named list of vectors: y-axis data.}

\item{x2}{Datetime vector or list of vectors, optional: must be provided if \code{y2} does not
correspond to values in \code{x}. A single x-axis will be drawn for all values in \code{x} and \code{x2}.}

\item{y2}{Numeric vector, optional: If provided, a second y-axis will be added to the right
side of the plot.}

\item{which_xy}{Integer vector: Indices of \code{x} and \code{y} to plot.
If not provided, will select up to the first two x-y traces.}

\item{which_xy2}{Integer vector: Indices of \code{x2} and \code{y2} to plot.
If not provided, will select up to the first two x2-y2 traces.}

\item{shade_bin}{Integer vector \{0, 1\}: Time points in \code{x} to shade on the plot. For example,
if there are 10 time points in \code{x}, and you want to shade time points 3 to 7,
\code{shade_bin = c(0, 0, 1, 1, 1, 1, 1, 0, 0, 0)}. Only set \code{shade_bin} or \code{shade_interval}, not
both.}

\item{shade_interval}{List of numeric vectors: Intervals to shade on the plot. Only set
\code{shade_bin} or \code{shade_interval}, not both.}

\item{shade_col}{Color: Color to shade intervals.}

\item{shade_x}{Numeric vector: x-values to use for shading.}

\item{shade_name}{Character: Name for shaded intervals.}

\item{shade_showlegend}{Logical: If TRUE, show legend for shaded intervals.}

\item{ynames}{Character vector, optional: Names for each vector in \code{y}.}

\item{y2names}{Character vector, optional: Names for each vector in \code{y2}.}

\item{xlab}{Character: x-axis label.}

\item{ylab}{Character: y-axis label.}

\item{y2lab}{Character: y2-axis label.}

\item{xunits}{Character: x-axis units.}

\item{yunits}{Character: y-axis units.}

\item{y2units}{Character: y2-axis units.}

\item{yunits_col}{Color for y-axis units.}

\item{y2units_col}{Color for y2-axis units.}

\item{zt}{Numeric vector: Zeitgeber time. If provided, will be shown on the x-axis instead of
\code{x}. To be used only with a single \code{x} vector and no \code{x2}.}

\item{show_zt}{Logical: If TRUE, show zt on x-axis, if zt is provided.}

\item{show_zt_every}{Integer: Show zt every \code{show_zt_every} ticks. If NULL, will be calculated
to be \code{x_nticks} +/- 1 if \code{x_nticks} is not 0, otherwise 12 +/- 1.}

\item{zt_nticks}{Integer: Number of zt ticks to show. Only used if \code{show_zt_every} is NULL.
The actual number of ticks shown will depend on the periodicity of zt, so that zt = 0 is always
included.}

\item{main}{Character: Main title.}

\item{main_y}{Numeric: Y position of main title.}

\item{main_yanchor}{Character: "top", "middle", "bottom".}

\item{x_nticks}{Integer: Number of ticks on x-axis.}

\item{y_nticks}{Integer: Number of ticks on y-axis.}

\item{show_rangeslider}{Logical: If TRUE, show a range slider.}

\item{slider_start}{Numeric: Start of range slider.}

\item{slider_end}{Numeric: End of range slider.}

\item{theme}{Theme object.}

\item{palette}{Color list: will be used to draw each vector in \code{y} and \code{y2}, in order.}

\item{font_size}{Numeric: Font size for text.}

\item{yfill}{Character: Fill type for y-axis: "none", "tozeroy", "tonexty".}

\item{y2fill}{Character: Fill type for y2-axis: "none", "tozeroy", "tonexty".}

\item{fill_alpha}{Numeric: Fill opacity for y-axis.}

\item{yline_width}{Numeric: Line width for y-axis lines.}

\item{y2line_width}{Numeric: Line width for y2-axis lines.}

\item{x_showspikes}{Logical: If TRUE, show spikes on x-axis.}

\item{spike_dash}{Character: Dash type for spikes: "solid", "dot", "dash", "longdash",
"dashdot", "longdashdot".}

\item{spike_col}{Color for spikes.}

\item{x_spike_thickness}{Numeric: Thickness of spikes. \code{-2} avoids drawing border around spikes.}

\item{tickfont_size}{Numeric: Font size for tick labels.}

\item{x_tickmode}{Character: "auto", "linear", "array".}

\item{x_tickvals}{Numeric vector: Tick positions.}

\item{x_ticktext}{Character vector: Tick labels.}

\item{x_tickangle}{Numeric: Angle of tick labels.}

\item{legend_x}{Numeric: X position of legend.}

\item{legend_y}{Numeric: Y position of legend.}

\item{legend_xanchor}{Character: "left", "center", "right".}

\item{legend_yanchor}{Character: "top", "middle", "bottom".}

\item{legend_orientation}{Character: "v" for vertical, "h" for horizontal.}

\item{margin}{Named list with 4 numeric values: "l", "r", "t", "b" for left, right, top, bottom
margins.}

\item{x_standoff}{Numeric: Distance from x-axis to x-axis label.}

\item{y_standoff}{Numeric: Distance from y-axis to y-axis label.}

\item{y2_standoff}{Numeric: Distance from y2-axis to y2-axis label.}

\item{hovermode}{Character: "closest", "x", "x unified".}

\item{displayModeBar}{Logical: If TRUE, display plotly mode bar.}

\item{modeBar_file_format}{Character: "png", "svg", "jpeg", "webp", "pdf": file format for mode
bar image export.}

\item{scrollZoom}{Logical: If TRUE, enable zooming by scrolling.}

\item{filename}{Character: Path to save the plot image.}

\item{file_width}{Numeric: Width of the saved plot image.}

\item{file_height}{Numeric: Height of the saved plot image.}

\item{file_scale}{Numeric: Scale of the saved plot image.}
}
\value{
\code{plotly} object.
}
\description{
Plot timeseries data
}
\details{
We are switching to \code{palette} being a color vector instead of the name of a built-in palette.
}
\examples{
\dontrun{
datetime <- seq(
  as.POSIXct("2020-01-01 00:00"),
  as.POSIXct("2020-01-02 00:00"),
  by = "hour"
)
df <- data.frame(
  datetime = datetime,
  value1 = rnorm(length(datetime)),
  value2 = rnorm(length(datetime))
)
draw_xt(df, x = df[, 1], y = df[, 2:3])
}
}
\author{
EDG
}
